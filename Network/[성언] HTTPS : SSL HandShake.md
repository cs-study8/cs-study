# HTTPS / SSL HandShake



## HTTPS



#### HTTPSλ€?

- HTTP ν”„λ΅ν† μ½μ λ³΄μ•λ²„μ „ - S(Secure)



#### HTTPμ μ•½μ 

- μ•”νΈν™”κ°€ λμ§€ μ•μ€ ν‰λ¬Έ ν†µμ‹  - λ„μ²­ κ°€λ¥
- ν†µμ‹ ν•λ ¤λ” μƒλ€λ¥Ό ν™•μΈν•μ§€ μ•λ”λ‹¤

π”‘ **μ•”νΈν™”κ°€ ν•„μ”!**



#### μ•”νΈν™” μ•κ³ λ¦¬μ¦

### 1. λ€μΉ­ν‚¤

> μ•”νΈν™”μ™€ λ³µνΈν™”μ— **λ™μΌν•** ν‚¤λ¥Ό μ‚¬μ©ν•λ” κ²ƒ

![](https://user-images.githubusercontent.com/44635266/68072454-4cc8e980-fdc9-11e9-9e71-8ddd4837ed41.png)



λ€μΉ­ν‚¤μ μ¥μ 

- μ†΅μ‹ μμ™€ μμ‹ μκ°€ λ™μΌν• ν‚¤λ¥Ό κ°€μ§€κ³  μκΈ° λ•λ¬Έμ—, μ•”νΈν™” - λ³µνΈν™” κ³Όμ •μ΄ λ‹¨μν•λ©° μ†λ„κ°€ λΉ λ¥΄λ‹¤.



λ€μΉ­ν‚¤μ λ‹¨μ 

- μ–΄μ¨λ“  μ†΅μ‹ μ - μμ‹ μ κ°„ ν‚¤ κµν™μ΄ μ΄λ£¨μ–΄μ Έμ•Όν•λ‹¤.

  β΅οΈ μ΄ κ³Όμ •μ—μ„ ν‚¤κ°€ λ…Έμ¶λλ©΄ μ•”νΈκ°€ λ¬΄ν¨ν™”λλ‹¤.

- μμ‹ μ or μ†΅μ‹ μκ°€ λμ–΄λ‚ μλ΅ κ·Έλ§νΌ κ΄€λ¦¬ν•΄μ•Όν•  ν‚¤κ°€ ν•λ‚ μ”© μ¦κ°€ν•΄ κ΄€λ¦¬κ°€ μ–΄λ ¤μΈ μ μλ‹¤.



### 2. λΉ„λ€μΉ­ν‚¤(κ³µκ°ν‚¤)

> μ•”νΈν™”μ™€ λ³µνΈν™”μ— **λ‹¤λ¥Έ** ν‚¤λ¥Ό μ‚¬μ©ν•λ” κ²ƒ



<img src="https://t1.daumcdn.net/cfile/tistory/99575E435C46AE152A" style="zoom:150%;" />

λΉ„λ€μΉ­ν‚¤μ μ¥μ 

- λ‹¨ ν•λ‚μ κ³µκ°ν‚¤λ¥Ό μ‚¬μ©ν•¨μΌλ΅μ¨ λ¨λ“  μμ‹ μμ™€ κ°λ³„ ν‚¤λ¥Ό λ§λ“¤ ν•„μ”κ°€ μ—†λ‹¤.
- μ•”νΈν™” ν›„ λ°μ΄ν„°λ¥Ό μ†΅μ‹ ν•λ” κ³Όμ •μ—μ„ ν‚¤λ¥Ό νƒμ·¨λ‹Ήν•λ”λΌλ„ ν•΄λ‹Ή ν‚¤λ΅ λ³µνΈν™”λ” ν•  μ μ—†κΈ° λ•λ¬Έμ— κ³µκ°ν‚¤ λ°©μ‹λ³΄λ‹¤ μ•μ „ν•λ‹¤.



λΉ„λ€μΉ­ν‚¤μ λ‹¨μ 

- μ•”νΈν™” - λ³µνΈν™”μ— μ„λ΅ λ‹¤λ¥Έ ν‚¤λ¥Ό μ‚¬μ©ν•λ―€λ΅ λ€μΉ­ν‚¤μ™€ λΉ„κµν•΄ μ†λ„κ°€ λλ¦¬λ‹¤. 



## HTTPSμ μ•”νΈν™” λ°©μ‹



### SSL μ΄λ€?

- κΈ°μ΅΄ OSI 7κ³„μΈµμ—μ„ 'λ³΄μ• κ³„μΈµ' μ΄λΌλ” λ…λ¦½μ μΈ ν”„λ΅ν† μ½ κ³„μΈµμ„ λ§λ“¤μ–΄, μ‘μ©κ³„μΈµκ³Ό μ „μ†΅κ³„μΈµ μ‚¬μ΄μ— μ„μΉ
- TLSλ” SSLμ ν›„μ†λ²„μ „μ΄μ§€λ§ μΌλ°μ μΌλ΅ SSLμ΄ λ” λ§μ΄ μ‚¬μ©λλ” μ©μ–΄
- CA(Certificate Authority)λΌλ” μΈμ¦κΈ°κ°„μ—μ„ λ°κΈ‰



### SSL HandShake



![](https://blog.kakaocdn.net/dn/cStny6/btqCTwn2FTq/1U8WuM3ZgMKbrtaLgPKNvk/img.png)



#### HandShakeμ νλ¦„

1) TCP 3 way HandShake

2) ν΄λΌμ΄μ–ΈνΈπ‘¦ : μ»΄ν“¨ν„°κ°€ μμ‹ μ λ²„μ „, μ•”νΈ μ•κ³ λ¦¬μ¦ λ©λ΅, μ‚¬μ© κ°€λ¥ν• μ••μ¶• λ°©μ‹μ„ "Client Hello" λ©”μ‹μ§€μ— λ‹΄μ•„ μ„λ²„λ΅ μ „μ†΅

3) μ„λ²„π’» : ν΄λΌμ΄μ–ΈνΈκ°€ μ κ³µν• μ•”νΈ μ•κ³ λ¦¬μ¦ λ©λ΅, μ••μ¶• λ°©μ‹ λ©λ΅ μ¤‘ μ„ νƒ / μ„Έμ… ID, CAμ—μ„ μ‚¬μΈν• μ„λ²„μ κ³µκ° μΈμ¦μ„λ¥Ό "ServerHello"μ— λ‹΄μ•„ μ „μ†΅

4) ν΄λΌμ΄μ–ΈνΈπ‘¦ : μ„λ²„κ°€ λ³΄λ‚Έ SSL μΈμ¦μ„κ°€ CA λ©λ΅μ— μλ”μ§€ ν™•μΈ (ν¬λ΅¬, μ‚¬νλ¦¬ λ“± λΈλΌμ°μ €μ— CA λ©λ΅μ΄ νƒ‘μ¬) -> SSLμ΄ ν™•μΈλλ©΄ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ‚¬μ©ν•  λ€μΉ­ν‚¤λ¥Ό ν•μ„±ν•κΈ° μ„ν•΄ λ‚μ λ°”μ΄νΈλ¥Ό μƒμ„±ν•΄ μ„λ²„μ κ³µκ°ν‚¤λ΅ μ•”νΈν™” ν›„ μ „μ†΅

5) μ„λ²„π’» : ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄λ‚Έ λ€μΉ­ν‚¤λ¥Ό μ„λ²„μ κ°μΈν‚¤λ΅ λ³µνΈν™”



#### HandShakeμ—μ„ μ‚¬μ©ν•λ” μ•”νΈν™” λ°©μ‹

1) μ„λ²„κ°€ "ServerHello"μ—μ„ λ³΄λ‚΄λ” SSL μΈμ¦μ„λ¥Ό λΈλΌμ°μ €μ— λ‚΄μ¥λμ–΄ μλ” CAμ κ³µκ°ν‚¤λ΅ **<u>λ³µνΈν™”</u>**

2) CAμ κ³µκ°ν‚¤λ΅ λ³µνΈν™” λ SSL μΈμ¦μ„μ—λ” μ„λ²„μ κ³µκ°ν‚¤κ°€ λ“¤μ–΄μμ

3) ν΄λΌμ΄μ–ΈνΈκ°€ λ€μΉ­ν‚¤λ¥Ό μƒμ„±ν•κ³ , μ΄λ¥Ό SSL μΈμ¦μ„μ—μ„ μ–»μ€ μ„λ²„μ κ³µκ°ν‚¤λ΅ **<u>μ•”νΈν™”</u>** ν›„ μ„λ²„μ— μ „μ†΅

4) μ„λ²„λ” μμ‹ μ κ°μΈν‚¤λ΅ ν΄λΌμ΄μ–ΈνΈμ—κ² λ°›μ€ λ€μΉ­ν‚¤λ¥Ό **<u>λ³µνΈν™”</u>**



### β… κ²°λ΅  

##### λ€μΉ­ν‚¤λ¥Ό μ „λ‹¬ν•κΈ° μ„ν•΄ λΉ„λ€μΉ­ν‚¤λ¥Ό μ‚¬μ©ν•λ‹¤ - λ€μΉ­ν‚¤ / λΉ„λ€μΉ­ν‚¤λ¥Ό λ¨λ‘ μ‚¬μ©ν•λ‹¤!

- λ³΄μ•μ„± β¬†
- ν¨μ¨μ„± β¬†





